# === App & DB ===
spring.application.name=LoanSystem
spring.datasource.url=jdbc:postgresql://localhost:5432/LoanSystem
spring.datasource.username=postgres
spring.datasource.password=Ngan0407@!
spring.jpa.hibernate.ddl-auto=none
# === Flyway ===
spring.flyway.enabled=true
spring.flyway.locations=classpath:db/migration
spring.flyway.baseline-on-migrate=true
spring.jpa.show-sql=true
spring.jpa.properties.hibernate.format_sql=true
spring.jpa.database-platform=org.hibernate.dialect.PostgreSQLDialect

# === HTTP Client & JSON ===
spring.http.client.type=jdk
spring.jackson.property-naming-strategy=SNAKE_CASE

# === FastAPI endpoints ===
# Allow override by environment variables in Docker Compose
# CREDIT_SCORING_API_URL (defaults to http://localhost:8000)
# CREDIT_NLG_API_URL      (defaults to http://localhost:8002)
model1.base-url=${CREDIT_SCORING_API_URL:http://localhost:8001}
model2.base-url=${CREDIT_NLG_API_URL:http://localhost:8002}

# (tuỳ chọn) API key giữa Spring <-> FastAPI
model.api-key=your-secret-here

# === CORS & Actuator ===
cors.allowed.origins=http://localhost:3000,http://localhost:5173
cors.allowed.methods=GET,POST,PUT,DELETE,OPTIONS
cors.allowed.headers=*
cors.allow.credentials=true
management.endpoints.web.exposure.include=health,info,metrics
management.endpoint.health.show-details=always
